import RuntimeRenderingIntro from '../../rendering-modes/components/RuntimeRenderingIntro.mdx'

<RuntimeRenderingIntro img={{
    href: "https://vite.rr.rc.css.master.co",
    ...require('~/public/images/vite-dev.png').default,
    dark: require('~/public/images/vite-dev@dark.png').default,
    alt: 'Vite and Master CSS',
    width: 665, height: 400 }} />

---

## Quick start
<StepSection>
    <Step $row>
        <StepL>
            ### <StepNum />Clone the example
            Copy-paste the commands to quickly start using the https://vite.rr.rc.css.master.co example.

            You can skip all [installation](#installation) steps.
        </StepL>
        <StepR>
            ```bash name=Terminal
            npm create @master/css@rc __project__ --example vite
            cd __project__
            npm run dev
            ```
        </StepR>
        <StepEnd/>
    </Step>
</StepSection>

---

## Installation

<StepSection>
    <Step $row>
        <StepL>
            ### <StepNum />Create a project
            If you don't have a Vite project, create one first. It's recommended to refer to [Getting Started - Vite](https://vitejs.dev/guide/)
        </StepL>
        <StepR>
            <CodeTabs>
                {[
                    {
                        name: 'Terminal',
                        lang: 'bash',
                        code: `
                            npm create vite@latest project -- --template vanilla-ts
                            cd project
                            npm install
                        `
                    }
                ]}
            </CodeTabs>
        </StepR>
    </Step>
    <Step $row>
        <StepL>
            ### <StepNum />Initialize configuration file
            Run `npm create @master/css@rc` to create a configuration file [master.css.ts](/docs/configuration).
        </StepL>
        <StepR>
            ```bash name=Terminal
            npm create @master/css@rc
            ```
        </StepR>
    </Step>
    <Step $row>
        <StepL>
            ### <StepNum />Install Master CSS
            Install Master CSS into your project via package managers.
        </StepL>
        <StepR>
            ```install
            **@master/css-runtime@rc**
            ```
        </StepR>
    </Step>
    <Step $row>
        <StepL>
            ### <StepNum />Set up CSS runtime engine
            Import `master.css.ts` into the entry file `main.ts` to enable the runtime engine.
        </StepL>
        <StepR>
            ```ts name=main.ts
            …
            +   import { initCSSRuntime } from '@master/css-runtime';
            +   import config from 'master.css';

            +   initCSSRuntime(config)
            ```
        </StepR>
    </Step>
    <Step $row>
        <StepL>
            ### <StepNum />Prevent flash of unstyled content
            Add `css display: 'none'` in `html <html>` to avoid [FOUC](https://en.wikipedia.org/wiki/Flash_of_unstyled_content) caused by the runtime engine not yet injecting CSS rules.
        </StepL>
        <StepR>
            ```html name=index.html
            <!doctype html>
            <html lang="en" style="**display: none**">
            ```
        </StepR>
    </Step>
    <Step $row>
        <StepL>
            ### <StepNum />Launch server
            Run the Vite development server.
        </StepL>
        <StepR>
            ```bash name=Terminal
            npm run dev -- --open
            ```
        </StepR>
    </Step>
    <Step>
        ### <StepNum />Hello world!
        Now style your first element using Master CSS syntax!
        ```html name=index.html
        <!DOCTYPE html>
        <html lang="en" style="display: none">
            …
            <body>
        +        <h1 class="font:40 font:heavy italic m:12x text:center">Hello World</h1>
                …
            </body>
        </html>
        ```
        <p className="mt:12x">Open your browser to watch the changes.</p>
        <HelloWorld url="localhost:5173" />
    </Step>
</StepSection>